<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking Form</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!-- Include Select2 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <!-- Include jQuery (required for Select2) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Include Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="icon" type="png" href="./1683269844902 (1).png" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <section class="hero is-primary is-bold">
      <div class="hero-body">
        <div class="container">
          <h1 class="title" style="font-size: 1.5rem">
            Abtik Services Booking Form
          </h1>
          <h2 class="subtitle" style="font-size: 1rem">
            Effortlessly Manage Your Bookings
          </h2>
        </div>
      </div>
    </section>

    <form
      id="form"
      class="container m-5 box"
      method="POST"
      action="https://script.google.com/macros/s/AKfycbxkc_hzbyRIaWpC4hra6AEFUY9zBBJzKzJ6EuzY3jTNzGw4tdGeyHdPh-OSqx50d7MeyA/exec"
      enctype="multipart/form-data"
      style="
        border-radius: 10px;
        padding: 2rem;
        box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
      "
    >
      <div class="field">
        <label class="label">BDE Name</label>
        <div class="control has-icons-left">
          <input
            class="input"
            type="text"
            placeholder="Enter Your Name"
            name="BDE Name"
            required
          />
          <span class="icon is-left"><i class="fas fa-user"></i></span>
        </div>
      </div>

      <div class="field">
        <label class="label">Bank Account</label>
        <div class="control has-icons-left">
          <div class="select is-fullwidth">
            <select name="Bank Account" required>
              <option value="" disabled selected>Select Bank Account</option>
              <option value="Cash">Cash</option>
              <option value="Abtik Services LLP">Abtik Services LLP</option>
              <option value="Abtik Financial Services Pvt Ltd">
                Abtik Financial Services Private Limited
              </option>
              <option value="Abtik Startup Advisor Pvt Ltd">
                Abtik Startup Advisor Private Limited
              </option>
              <option value="Razorpay Abtik Services LLP">
                Razorpay Abtik Services LLP
              </option>
              <option value="Razorpay Abtik Financial Services Pvt Ltd">
                Razorpay Abtik Financial Services Private Limited
              </option>
            </select>
          </div>
          <span class="icon is-left"><i class="fas fa-university"></i></span>
        </div>
      </div>

      <div class="field">
        <label class="label">Payment Type</label>
        <div class="control has-icons-left">
          <div class="select is-fullwidth">
            <select name="Payment Type" required>
              <option value="" disabled selected>Select Payment Type</option>
              <option value="Remaining Payment">Remaining Payment</option>
              <option value="New Payment Option">New Payment Option</option>
            </select>
          </div>
          <span class="icon is-left"
            ><i class="fas fa-money-check-alt"></i
          ></span>
        </div>
      </div>

      <div class="field">
        <label class="label">Booking Date</label>
        <div
          class="control has-icons-left"
          style="position: relative; display: flex; align-items: center"
        >
          <input
            id="bookingDate"
            type="text"
            placeholder="Select Date"
            name="Booking Date"
            style="padding-right: 40px"
            class="input"
          />
          <span
            style="position: absolute; right: 10px; cursor: pointer"
            class="icon is-left"
          >
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
          </span>
        </div>
      </div>

      <div class="field">
        <label class="label">Payment Date</label>
        <div
          class="control has-icons-left"
          style="position: relative; display: flex; align-items: center"
        >
          <input
            id="paymentDate"
            type="text"
            placeholder="Select Date"
            name="Payment Date"
            style="padding-right: 40px"
            class="input"
          />
          <span
            style="position: absolute; right: 10px; cursor: pointer"
            class="icon is-left"
          >
            <i class="fas fa-calendar-check" aria-hidden="true"></i>
          </span>
        </div>
      </div>

      <script>
        flatpickr("#paymentDate", {
          enableTime: false,
          dateFormat: "m/d/Y",
        });
        flatpickr("#bookingDate", {
          enableTime: false,
          dateFormat: "m/d/Y",
        });
      </script>

      <div class="field">
        <label class="label">Company Name</label>
        <div class="control has-icons-left">
          <input
            class="input"
            type="text"
            placeholder="Enter Company Name"
            name="Company Name"
          />
          <span class="icon is-left"><i class="fa-solid fa-building"></i></span>
        </div>
      </div>

      <div class="field">
        <label class="label">GST or PAN Number</label>
        <div class="control has-icons-left">
          <input
            class="input"
            type="text"
            placeholder="Enter GST or PAN Number"
            name="GST_OR_PAN"
            required
            pattern="(^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$)|(^[A-Z]{5}[0-9]{4}[A-Z]{1}$)"
            title="Enter a valid GST number (e.g., 22AAAAA1234A1Z5) or PAN number (e.g., ABCDE1234F)"
          />
          <span class="icon is-left"
            ><i class="fa-duotone fa-solid fa-hashtag"></i
          ></span>
        </div>
      </div>

      <div class="field">
        <label class="label">Client Email</label>
        <div class="control has-icons-left" id="emailContainer">
          <div style="display: flex; align-items: center; margin-bottom: 10px">
            <input
              class="input"
              type="email"
              placeholder="Enter Client Email"
              name="Email[]"
              style="flex: 1; margin-right: 10px"
              id="emailInput"
              oninput="validateEmail(this)"
              required
            />
            <span class="icon is-left"
              ><i class="fa-solid fa-envelope"></i
            ></span>
            <button
              type="button"
              class="button is-small is-success"
              onclick="addEmailField()"
              title="Add another email"
            >
              +
            </button>
          </div>
          <p id="emailError" style="color: red; display: none">
            Please enter a valid email address.
          </p>
        </div>
      </div>

      <div class="field">
        <label class="label">Client Mobile No.</label>
        <div class="control has-icons-left" id="mobileContainer">
          <div style="display: flex; align-items: center; margin-bottom: 10px">
            <input
              class="input"
              type="number"
              placeholder="Enter Client Number"
              name="Mobile[]"
              style="flex: 1; margin-right: 10px"
            />
            <button
              class="button is-small is-success"
              type="button"
              onclick="addMobileField()"
              title="Add another mobile number"
            >
              +
            </button>
          </div>
          <span class="icon is-left"
            ><i class="fa-duotone fa-solid fa-phone"></i
          ></span>
        </div>
      </div>

      <div class="field">
        <label class="label">Services</label>
        <div class="control has-icons-left">
          <input
            type="text"
            class="input"
            name="Services[]"
            id="servicesNameInput"
            placeholder="Enter services separated by commas"
          />
          <span class="icon is-left">
            <i class="fas fa-tools"></i>
          </span>
        </div>
      </div>

      <!-- <script>
        $(document).ready(function () {
          $("#servicesNameSelect").select2({
            placeholder: "Select Services Name",
            allowClear: true,
          });
        });
      </script> -->

      <div class="equal-fields">
        <div class="field">
          <label class="label">Total Payment Amount</label>
          <div class="control has-icons-left">
            <input
              class="input"
              type="number"
              placeholder="Enter Basic Payment Amount"
              id="totalAmount"
              oninput="calculateAmounts()"
              name="Basic Payment Amount"
            />
            <span class="icon is-left"
              ><i class="fa-duotone fa-solid fa-indian-rupee-sign"></i
            ></span>
          </div>
        </div>
        <div class="field">
          <label class="label">₹ Remarks</label>
          <input
            class="input"
            type="text"
            placeholder="Enter remarks here"
            id="remarks"
            name="Remarks"
          />
        </div>
      </div>

      <!-- <div class="field">
       <label class="label">GST Percentage</label>
        <div class="control">
          <input 
          class="input" 
          type="number" 
          placeholder="Enter GST Percentage (e.g., 18)" 
          id="gstPercentage" 
          oninput="calculateTotalPayment()"
          />
        </div>
     </div> -->

      <div class="equal-fields">
        <div class="field">
          <label class="label">Received Amount</label>
          <div class="control has-icons-left">
            <input
              class="input"
              type="number"
              placeholder="Enter Received Amount"
              id="receivedAmount"
              oninput="calculateAmounts()"
              name="Received Amount - Including GST"
            />
            <span class="icon is-left"
              ><i class="fa-duotone fa-solid fa-indian-rupee-sign"></i
            ></span>
          </div>
        </div>
        <div class="field">
          <label class="label">₹ Remarks</label>
          <input
            class="input"
            type="text"
            placeholder="Enter remarks here"
            id="remarks"
            name="Remarks1"
          />
        </div>
      </div>

      <div class="equal-fields">
        <div class="field">
          <label class="label">Remaining Amount</label>
          <div class="control has-icons-left">
            <input
              class="input"
              type="text"
              id="remainingAmount"
              name="Remaining Amount"
              placeholder="Remaining Amount"
            />
            <span class="icon is-left"
              ><i class="fa-duotone fa-solid fa-indian-rupee-sign"></i
            ></span>
          </div>
        </div>
        <div class="field">
          <label class="label">₹ Remarks</label>
          <input
            class="input"
            type="text"
            placeholder="Enter remarks here"
            id="remarks"
            name="Remarks2"
          />
        </div>
      </div>

      <div class="equal-fields">
        <div class="field">
          <label class="label">After Fund Disbursement(%)</label>
          <div class="control has-icons-left">
            <input
              class="input"
              type="text"
              placeholder="Enter Percentage"
              name="After Fund Disbursement"
            />
            <span class="icon is-left"
              ><i class="fa-duotone fa-solid fa-percent"></i
            ></span>
          </div>
        </div>
        <div class="field">
          <label class="label">₹ Remarks</label>
          <input
            class="input"
            type="text"
            placeholder="Enter remarks here"
            id="remarks"
            name="Remarks3"
          />
        </div>
      </div>

      <div class="field">
        <label class="label">Upload File(s) or Folder</label>
        <div class="control has-icons-left">
          <input
            class="input"
            type="file"
            id="fileUpload"
            name="files[]"
            multiple
            onchange="handleFileSelection()"
          />
          <span class="icon is-left">
            <i class="fas fa-folder-open"></i>
          </span>
        </div>
        <div id="fileList" style="margin-top: 10px; font-size: 0.9rem"></div>
      </div>

      <div class="field">
        <label class="label">Remarks</label>
        <div class="control">
          <textarea
            class="textarea"
            placeholder="Any additional information"
            name="Notes"
          ></textarea>
        </div>
      </div>

      <div class="field is-grouped">
        <div class="control">
          <button class="button is-primary" type="submit" id="submit-button">
            Submit
          </button>
        </div>
        <div class="control">
          <button class="button is-danger" type="button" onclick="clearForm()">
            Cancel
          </button>
        </div>
      </div>
      <input type="hidden" id="bookingId" name="Booking ID" />
      <div
        id="message"
        style="
          display: none;
          margin: 20px;
          font-weight: bold;
          color: green;
          padding: 8px;
          background-color: beige;
          border-radius: 4px;
          border-color: aquamarine;
        "
      ></div>
    </form>

    <div
      id="successModal"
      style="
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 400px;
        background-color: white;
        border: 1px solid #ccc;
        box-shadow: 0 8px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        z-index: 1000;
        border-radius: 8px;
      "
    >
      <div style="padding: 20px">
        <img
          src="success-icon.png"
          alt="Success"
          style="width: 80px; height: 80px; margin: 10px"
        />
        <h2 style="margin-bottom: 20px; margin-top: 10px">Done</h2>
        <p style="margin: 20px; font-weight: 600">
          Data Submitted Successfully.
        </p>
        <p
          id="bookingIdDisplay"
          style="margin: 10px; font-weight: 600; color: #007bff"
        ></p>
        <button
          onclick="closeModal()"
          style="
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
          "
        >
          OK
        </button>
      </div>
    </div>
    <div
      id="modalBackdrop"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
      "
    ></div>

    <script src="script.js"></script>
  </body>
</html>
